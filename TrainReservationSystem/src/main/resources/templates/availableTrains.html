
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<title>Available Trains</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<style>
			button{
				width:150px;
				border:2px solid gray;
				position:relative;
			}
			button:hover{
				bottom:5px;
			}
			body{
				background:url("bg2.png");
				background-size:100% 100%;
				background-attachment:fixed;
			}
			
		</style>
	</head>
	<body class="px-5">

			<div th:if="${ availableTrains.isEmpty() }" class="d-flex flex-column justify-content-center align-items-center" style="height:100%">
				<h3 class="text-danger">No Trains Found !</h3>
				<a class="btn btn-outline-success" href="/book">Back</a>
			</div>

		<div th:each="availableTrain : ${availableTrains}">
			
			<div class="border rounded shadow m-3 bg-white">
				<h3 class="text-center pt-2" th:text="${availableTrain.availabilityKey.train.name} +' (' +  ${availableTrain.availabilityKey.train.trainNumber} +') ' ">  </h3>
				<hr />
				<div class="d-flex justify-content-around">
					<div class="h4" th:text="${availableTrain.availabilityKey.train.source}"></div>
					<div class="h4" th:text="${availableTrain.availabilityKey.train.destination}"></div>
				</div>
				<div class="d-flex p-2">
		
					<button th:if="${ availableTrain.slSeats>=0 }" class="d-flex shadow rounded flex-column p-2 m-2"  th:attr="onclick='location.href=&quot;/passenger_details?train=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.train.trainNumber)} + '&amp;coach=sl&amp;doj=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.DOJ)} + '&quot;'">
						<div class="fw-bold">SL</div>
						<div class="text-primary" th:text="'AVL. ' + ${availableTrain.slSeats}"></div>
						<div class="text-success" th:text="'Rs. ' + ${availableTrain.availabilityKey.train.slPrice}"></div>
					</button>
				
				
					<button th:if="${ availableTrain.ac1Seats>=0 }" class="d-flex shadow rounded flex-column p-2 m-2"  th:attr="onclick='location.href=&quot;/passenger_details?train=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.train.trainNumber)} + '&amp;coach=ac1&amp;doj=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.DOJ)} + '&quot;'">
						<div class="fw-bold">1A</div>
						<div class="text-primary" th:text="'AVL. ' + ${availableTrain.ac1Seats}"></div>
						<div class="text-success" th:text="'Rs. ' + ${availableTrain.availabilityKey.train.ac1Price}"></div>
					</button>
				
				
					<button th:if="${ availableTrain.ac2Seats>=0 }" class="d-flex shadow rounded flex-column p-2 m-2"  th:attr="onclick='location.href=&quot;/passenger_details?train=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.train.trainNumber)} + '&amp;coach=ac2&amp;doj=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.DOJ)} + '&quot;'">
						<div class="fw-bold">2A</div>
						<div class="text-primary" th:text="'AVL. ' + ${availableTrain.ac2Seats}"></div>
						<div class="text-success" th:text="'Rs. ' + ${availableTrain.availabilityKey.train.ac2Price}"></div>
					</button>
				
				
					<button th:if="${ availableTrain.ac3Seats>=0 }" class="d-flex shadow rounded flex-column p-2 m-2" th:attr="onclick='location.href=&quot;/passenger_details?train=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.train.trainNumber)} + '&amp;coach=ac3&amp;doj=' + ${#uris.escapePathSegment(availableTrain.availabilityKey.DOJ)} + '&quot;'">
						<div class="fw-bold">3A</div>
						<div class="text-primary" th:text="'AVL. ' + ${availableTrain.ac3Seats}"></div>
						<div class="text-success" th:text="'Rs. ' + ${availableTrain.availabilityKey.train.ac3Price}"></div>
					</button>
				
				</div>
			</div>
		</div>
		
		
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	</body>
</html>